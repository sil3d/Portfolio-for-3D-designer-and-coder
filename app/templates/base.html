<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Robotics Engineer, Mechanical Engineer, AI Engineer, Python Developer, Drone Designer, Fusion 360 Expert, Industrial Design, ROS, Computer Vision, Portfolio, {{ my_name }}, Mechatronics, Deep Learning, Embedded Systems">
    <meta name="author" content="{{ my_name }}">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ website_url }}">
    <meta property="og:title" content="{{ my_name }} - Portfolio">
    <meta property="og:description" content="Multidisciplinary Engineer specializing in Robotics, Mechanical Engineering, AI, and Industrial Design. View my projects and resume.">
    <meta property="og:image" content="{{ website_url }}static/images/qr_portfolio.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="{{ website_url }}">
    <meta property="twitter:title" content="{{ my_name }} - Portfolio">
    <meta property="twitter:description" content="Multidisciplinary Engineer specializing in Robotics, Mechanical Engineering, AI, and Industrial Design. View my projects and resume.">
    <meta property="twitter:image" content="{{ website_url }}static/images/qr_portfolio.png">

    <title>{% block title %}My Portfolio{% endblock %}</title>
    
    <!-- Performance Hints -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="preload" href="{{ url_for('static', filename='css/style.css') + '?v=' + auto_version('css/style.css')|string }}" as="style">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" as="style">
    <link rel="preload" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" as="style">

    <!-- Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <!-- Custom CSS with automatic cache busting -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') + '?v=' + auto_version('css/style.css')|string }}">

    <style>
        body {
            font-family: 'Outfit', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        main {
            flex: 1;
        }
        /* Remove other inline styles that conflict with style.css or let style.css override */
    </style>
    {% block styles %}{% endblock %}
</head>
<body>
    <div id="particles-js" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;"></div>
    {% include 'navbar1.html' %}

    <main>
        {% block content %}{% endblock %}
    </main>

    {% include 'footer.html' %}

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Particles.js with automatic cache busting -->
    <script src="{{ url_for('static', filename='js/particles.js') + '?v=' + auto_version('js/particles.js')|string }}"></script>
    
    <!-- Mobile navbar toggle fix -->
    <script>
        $(document).ready(function() {
            // Ensure hamburger toggle works properly
            $('.navbar-toggler').on('click', function(e) {
                e.preventDefault();
                var $collapse = $('#navbarNav');
                if ($collapse.hasClass('show')) {
                    $collapse.collapse('hide');
                } else {
                    $collapse.collapse('show');
                }
            });
            
            // Close navbar when clicking a nav link on mobile
            $('.navbar-nav .nav-link').on('click', function() {
                var $collapse = $('#navbarNav');
                if ($collapse.hasClass('show')) {
                    $collapse.collapse('hide');
                }
            });
            
            // Close navbar when clicking outside
            $(document).on('click touchstart', function(e) {
                var $navbar = $('#navbarNav');
                var $toggler = $('.navbar-toggler');
                if ($navbar.hasClass('show') && 
                    !$(e.target).closest('.navbar-collapse').length && 
                    !$(e.target).closest('.navbar-toggler').length) {
                    $navbar.collapse('hide');
                }
            });
        });
    </script>
    {% block scripts %}{% endblock %}
</body>
</html>
